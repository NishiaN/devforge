<!DOCTYPE html>
<html lang="ja" data-theme="dark">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' https://cdnjs.cloudflare.com; style-src 'self' 'unsafe-inline'; img-src 'self' data: blob:; connect-src 'self' https://cdnjs.cloudflare.com; object-src 'none'; base-uri 'self'; form-action 'self';">
<title>DevForge v9.5 — AI駆動開発 統合プラットフォーム</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js" integrity="sha384-+mbV2IY1Zk/X1p/nWllGySJSUN8uMs+gUAN10Or95UBH0fpj6GfKgPmgC5EXieXG" crossorigin="anonymous" onerror="window._noZip=true"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/marked/12.0.2/marked.min.js" integrity="sha384-/TQbtLCAerC3jgaim+N78RZSDYV7ryeoBCVqTuzRrFec2akfBkHS7ACQ3PQhvMVi" crossorigin="anonymous" onerror="window._noMarked=true"></script>
<style>
/* __CSS__ */
</style>
</head>
<body>
<a href="#cbody" class="skip-link">Skip to content</a>
<div class="app" id="app">
  <!-- Topbar -->
  <header class="topbar" role="banner">
    <div class="topbar-left">
      <div class="topbar-brand">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 2L2 7l10 5 10-5-10-5z"/><path d="M2 17l10 5 10-5"/><path d="M2 12l10 5 10-5"/></svg>
        <span>DevForge <small>v9</small></span>
      </div>

    </div>
    <div class="topbar-right">
      <button class="theme-btn" onclick="toggleLang()" title="EN/JA" aria-label="Toggle language" id="langBtn">🌐</button>
      <button class="theme-btn" onclick="toggleTheme()" title="Theme" aria-label="Toggle theme" id="themeBtn">🌙</button>
      <button class="theme-btn" onclick="if(typeof showCommandPalette==='function')showCommandPalette()" title="検索 (Ctrl+P)" id="searchBtn" aria-label="Search">🔍</button>
      <button class="theme-btn" onclick="showManual()" title="Help" id="helpBtn" aria-label="Help">❓</button>
      <button class="theme-btn" onclick="showKB()" title="Shortcuts" id="kbBtn" aria-label="Keyboard shortcuts">⌨️</button>
      <button class="theme-btn" onclick="showPM()" title="Projects" id="pmBtn">📁</button>
    </div>
  </header>
  <div class="pstrip" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" aria-label="Phase progress"><div class="pstrip-fill" id="pbar" style="width:0%"></div></div>

  <!-- Onboarding -->
  <div class="onboard" id="onboard" role="region" aria-label="Onboarding">
    <div class="hero-anim">
      <div class="hero-content">
        <div class="version-badge">v9.5 — 2026 Edition</div>
        <h1 id="heroTitle">DevForge v9</h1>
        <p id="heroDesc">開発の3大悪夢を解決。質問に答えるだけで134+ファイルの設計図を自動生成。20の柱が、AIと共に「ひらめき→仕様→実装」の階段をガイド。</p>
      </div>
    </div>
    <div class="stat-row">
      <div class="stat-item"><div class="num" id="statFileNum">134+</div><div class="lbl" id="statFiles">生成ファイル</div></div>
      <div class="stat-item"><div class="num" id="statTechNum"></div><div class="lbl" id="statTech">技術エントリ</div></div>
      <div class="stat-item"><div class="num">20</div><div class="lbl" id="statPillars">柱 (Pillars)</div></div>
      <div class="stat-item"><div class="num">10+</div><div class="lbl" id="statAI">AIツール対応</div></div>
    </div>
    <div class="info-grid">
      <div class="icard"><h4>😱 3つの悪夢を解決</h4><p>真っ白な画面の絶望・終わらない連携地獄・「俺の環境では動く」症候群…DevForgeが全て自動解決</p></div>
      <div class="icard"><h4>🧪 20の柱×134+ファイル</h4><p>設計書を自動生成 → AIに投入 → 実コード。質問に答えるだけで仕様・環境・AIルール全てを自動生成。</p></div>
      <div class="icard"><h4>📱 モバイル対応</h4><p>Expo / React Native 開発パス・EAS Build・OTA更新</p></div>
      <div class="icard"><h4>🤖 AI自律開発</h4><p>Vibe Coding・マルチAgent・Claude Code Subagents</p></div>
      <div class="icard"><h4>💳 決済・CMS・EC</h4><p>Stripe・microCMS・Medusa・Shopify Hydrogen</p></div>
      <div class="icard"><h4>📦 フルエクスポート</h4><p>ZIP・PDF・全ファイル結合コピー・URLシェア</p></div>
    </div>
    <div class="pillars-badge">
      <span class="pbadge">①SDD統合</span><span class="pbadge">②DevContainer</span><span class="pbadge">③MCP設定</span>
      <span class="pbadge">④AIルール</span><span class="pbadge">⑤並列探索</span><span class="pbadge">⑥Dashboard</span><span class="pbadge">⑦ロードマップ</span><span class="pbadge">⑧AIランチャー</span><span class="pbadge">⑨デザインシステム</span><span class="pbadge">⑩リバースEng</span><span class="pbadge">⑪実装ガイド</span><span class="pbadge">⑫セキュリティ</span><span class="pbadge">⑬戦略</span><span class="pbadge">⑭運用</span><span class="pbadge">⑮未来戦略</span><span class="pbadge">⑯開発IQ</span><span class="pbadge">⑰ゲノム</span><span class="pbadge">⑱Prompt Ops</span><span class="pbadge">⑲エンタープライズ</span><span class="pbadge">⑳CI/CD</span>
    </div>
    <div class="start-zone">
      <div class="szl" id="skillAsk">Select your skill level</div>
      <div class="skill-sel" id="skillSel" role="radiogroup" aria-label="Skill level">
        <div class="skcard" data-lv="beginner" onclick="pickSkill('beginner')" role="radio" aria-checked="false" tabindex="0"><div class="em">🌱</div><h4 class="sk-title">Beginner</h4><p class="sk-desc">初めてのWeb開発。最適な選択肢をガイドします</p></div>
        <div class="skcard on" data-lv="intermediate" onclick="pickSkill('intermediate')" role="radio" aria-checked="true" tabindex="0"><div class="em">⚡</div><h4 class="sk-title">Intermediate</h4><p class="sk-desc">1年以上の経験。Svelte, DDD等の中級オプション解放</p></div>
        <div class="skcard" data-lv="pro" onclick="pickSkill('pro')" role="radio" aria-checked="false" tabindex="0"><div class="em">🔥</div><h4 class="sk-title">Professional</h4><p class="sk-desc">全オプション解放。MDD, RBAC, SSO等＋確認ダイアログ付き</p></div>
      </div>
      <input class="nameIn" id="nameIn" placeholder="" aria-label="Project name">
      <div class="preset-row" id="presetRow"></div>
      <button class="btn btn-g btn-xs" onclick="showPresetCompare()" style="margin-bottom:8px" id="compareBtn">⚔️ <span id="compareLbl">テンプレート比較</span></button>
      <button class="btn btn-p btn-start" onclick="start()" id="startBtn">🚀 開始する</button>
    </div>
    <div class="app-footer">© 2026 エンジニアリングのタネ制作委員会 ｜ 作成者：にしあん</div>
  </div>

  <!-- Workspace -->
  <main id="ws" role="main" aria-label="Workspace" style="display:none;">
    <div class="toc-panel" id="tocPanel" role="navigation" aria-label="Table of contents"></div>
    <div class="mobtabs" role="tablist" aria-label="View switch"><div class="mobtab on" onclick="mobSw('c')" role="tab" aria-selected="true" tabindex="0">💬 チャット</div><div class="mobtab" onclick="mobSw('p')" role="tab" aria-selected="false" tabindex="0">📄 プレビュー</div></div>
    <div class="ws-outer">
      <aside class="sidebar" id="sidebar" role="complementary" aria-label="Sidebar navigation">
        <div class="sb-head">
          <button class="sb-toggle" id="sbToggle" onclick="toggleSidebar()" title="サイドバー切替 (Ctrl+B)" aria-label="Toggle sidebar">◀</button>
        </div>
        <div class="sb-body" id="sbBody">
          <div class="sb-tabs" role="tablist" aria-label="Sidebar tabs">
            <button class="sb-tab on" data-tab="progress" onclick="switchSidebarTab('progress')" role="tab" aria-selected="true">📋</button>
            <button class="sb-tab" data-tab="files" onclick="switchSidebarTab('files')" role="tab" aria-selected="false">📁</button>
          </div>
          <div class="sb-section sb-progress" id="sbProgress">
            <div class="pd-title" id="pdTitle">Progress</div>
            <div id="sbPills"></div>
            <div class="pd-progress"><div class="pd-bar"><div class="pd-bar-fill" id="pdBar" style="width:0%"></div></div><span id="pdPct">0%</span><span id="cxMini"></span></div>
            <button class="btn btn-p pd-gen" id="pdGenBtn" onclick="generateAll()">🚀 生成</button>
          </div>
          <div class="sb-section sb-files" id="sbFiles" style="display:none"></div>
        </div>
      </aside>
      <div class="sb-iconbar" id="sbIconbar" style="display:none" aria-hidden="true">
        <button class="sb-icon-btn" onclick="toggleSidebar()" title="サイドバーを開く" aria-label="Open sidebar">▶</button>
        <button class="sb-icon-btn" onclick="toggleSidebar();switchSidebarTab('progress')" title="進捗" aria-label="Progress">📋</button>
        <button class="sb-icon-btn" onclick="toggleSidebar();switchSidebarTab('files')" title="ファイル" aria-label="Files">📁</button>
      </div>
      <div class="ws">
        <div class="panel-c" id="panC">
          <div class="cbody" id="cbody" role="log" aria-live="polite" aria-label="Conversation"></div>
          <div class="izone" id="izone" role="form" aria-label="Answer input"></div>
        </div>
        <div class="panel-p" id="panP" role="complementary" aria-label="Preview panel">
          <div class="prev-head">
            <h3 id="panPTitle">📁 生成ファイル</h3>
            <div class="view-nav" id="viewNav"><button class="btn btn-xs btn-s view-nav-btn disabled" id="viewBackBtn" onclick="viewBack()" title="前の画面" aria-label="Previous screen">⏮</button><button class="btn btn-xs btn-s view-nav-btn disabled" id="viewFwdBtn" onclick="viewForward()" title="次の画面" aria-label="Next screen">⏭</button></div>
            <div class="prev-tabs" id="prevTabs" role="tablist" aria-label="Preview tabs"></div>
          </div>
          <div class="pillar-tabs" id="pillarTabs" role="tablist" aria-label="Pillar tabs"></div>
          <div class="prev-body" id="prevBody" aria-live="polite"><p class="prev-placeholder">質問に回答するとリアルタイムでプレビューが更新されます</p></div>
        </div>
      </div>
    </div>
  </main>

  <!-- Help Overlay -->
  <div class="help-overlay" id="helpOverlay" role="dialog" aria-modal="true" aria-label="Help manual" onclick="if(event.target===this)closeManual()">
    <div class="help-modal" role="document">
      <div class="help-nav" id="helpNav" role="navigation" aria-label="Help navigation">
        <input id="helpSearch" class="help-search" placeholder="🔍" oninput="filterManual(this.value)" aria-label="Search help">
      </div>
      <div class="help-body" id="helpBody"></div>
    </div>
  </div>

  <!-- Keyboard Shortcut Overlay -->
  <div class="kb-overlay" id="kbOverlay" role="dialog" aria-modal="true" aria-label="Keyboard shortcuts" onclick="if(event.target===this)closeKB()">
    <div class="kb-modal" role="document">
      <h3 id="kbTitle">⌨️ ショートカット</h3>
      <div class="kb-row"><span class="kblbl">ヘルプ・マニュアル</span><span class="kb-key">F1 / Ctrl+H</span></div>
      <div class="kb-row"><span class="kblbl">ショートカット一覧</span><span class="kb-key">Ctrl+K</span></div>
      <div class="kb-row"><span class="kblbl">コマンドパレット</span><span class="kb-key">Ctrl+P</span></div>
      <div class="kb-row"><span class="kblbl">テーマ切替</span><span class="kb-key">Ctrl+T</span></div>
      <div class="kb-row"><span class="kblbl">言語切替</span><span class="kb-key">Ctrl+L</span></div>
      <div class="kb-row"><span class="kblbl">エクスポート</span><span class="kb-key">Ctrl+E</span></div>
      <div class="kb-row"><span class="kblbl">全ファイルコピー</span><span class="kb-key">Ctrl+Shift+C</span></div>
      <div class="kb-row"><span class="kblbl">プロジェクト管理</span><span class="kb-key">Ctrl+M</span></div>
      <div class="kb-row"><span class="kblbl">サイドバー切替</span><span class="kb-key">Ctrl+B</span></div>
      <div class="kb-row"><span class="kblbl">エクスプローラー</span><span class="kb-key">Ctrl+4</span></div>
      <div class="kb-row"><span class="kblbl">ダッシュボード</span><span class="kb-key">Ctrl+5</span></div>
      <div class="kb-row"><span class="kblbl">ロードマップ</span><span class="kb-key">Ctrl+6</span></div>
      <div class="kb-row"><span class="kblbl">AI起動</span><span class="kb-key">Ctrl+7</span></div>
    </div>
  </div>
  <!-- Help Popup (per-question) -->
  <div id="helpPopup" role="tooltip" aria-live="polite" style="display:none;"></div>
  <!-- Confirm Overlay (Pro mode) -->
  <div class="confirm-overlay" id="confirmOverlay" role="alertdialog" aria-modal="true" aria-label="Confirmation"></div>
  <!-- Project Manager Overlay -->
  <div class="pm-overlay" id="pmOverlay" role="dialog" aria-modal="true" aria-label="Project manager" onclick="if(event.target===this)closePM()"></div>
  <!-- Tour Container -->
  <div class="tour-container" id="tourContainer" role="complementary" aria-label="Guided tour"></div>
</div>
<script>
/* __JS__ */
</script>
</body>
</html>